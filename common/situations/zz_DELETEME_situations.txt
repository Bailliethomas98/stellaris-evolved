# common\situations\zz_evolved_espionage_situations.txt

	situation_tec_ascension_REFREF = {
		# Note: uses event range tec_ascension_biological.10XX
		desc = {
			text = situation_tec_ascension_REFREF_desc
			trigger = {
				hidden_trigger = {
					always = yes
				}
			}
		}
		picture = GFX_evt_society_research
		category = positive
		complete_icon_frame = GFX_situation_outcome_frame_green
		complete_icon = GFX_situation_outcome_unknown
		fail_icon_frame = GFX_situation_outcome_frame_red
		fail_icon = GFX_situation_outcome_negative
		start_value = 0
		progress_direction = monodirectional

		on_monthly = {
			random_events = {
				# Nothing
				200 = 0
				# Positive random outcomes
				#1 = a
				#1 = a
				#1 = a
				# Negative random outcomes
				#1 = a
				#1 = a
				#1 = a
				# TO DO
			}
		}

		on_start = {
			set_situation_locked = yes
		}

		on_fail = {
			# This should never happen
			custom_tooltip = situation_tec_ascension_REFREF_fail_tooltip
			destroy_situation = this
		}
		
		on_progress_complete = {
			# This should never happen
			custom_tooltip = situation_tec_ascension_REFREF_end_tooltip
			destroy_situation = this
		}

		stages = {
			situation_tec_ascension_REFREF_stage_0 = { # Base
				icon = GFX_situation_stage_tec_0
				icon_background = GFX_situation_stage_frame_tec_orange
				#0 - 20%
				end = 20
			}
			situation_tec_ascension_REFREF_stage_1 = { # First introduction
				icon = GFX_situation_stage_2
				icon_background = GFX_situation_stage_frame_tec_yellow
				#20 - 40%
				end = 40
				on_first_enter = {
					hidden_effect = {
						situation_event = {
							id = tec_gene_path.1060
						}
					}
				}
			}
			situation_tec_ascension_REFREF_stage_2 = { # Bifurcation
				icon = GFX_situation_stage_3
				icon_background = GFX_situation_stage_frame_green
				#50-100%
				end = 50
				on_first_enter = {
					hidden_effect = {
						situation_event = {
							id = tec_gene_path.1075
						}
					}
				}
			}
			situation_tec_ascension_REFREF_stage_3 = {
				icon = GFX_situation_stage_4
				icon_background = GFX_situation_stage_frame_tec_yellow
				#50-100%
				end = 100
				on_first_enter = {
					hidden_effect = {
						situation_event = {
							id = tec_gene_path.1090
						}
					}
				}
			}
		}

		# Approaches
			approach = { # Basic
				name = situation_tec_ascension_REFREF_approach_basic
				icon = GFX_situation_approach_research
				icon_background = GFX_situation_approach_bg_yellow
				on_select = {
					custom_tooltip = situation_tec_ascension_REFREF_approach_tooltip
				}
				allow = {
					hidden_trigger = {
						always = yes
					}
				}
				resources = {
					category = situations
					upkeep = {
						society_research = @tec_situation_cost_low
						#mult = owner.trigger:num_pops
					}
				}
			}
			approach = { # Bio path
				name = situation_tec_ascension_REFREF_approach_fast
				icon = GFX_situation_approach_tec_genecrank
				icon_background = GFX_situation_approach_bg_red
				on_select = {
					custom_tooltip = situation_tec_ascension_REFREF_approach_fast_tooltip
				}
				potential = {
					has_situation_flag = situation_tec_ascension_REFREF_approach_fast_unlocked
				}
				allow = {
					hidden_trigger = {
						always = yes
					}
				}
				resources = {
					category = situations
					upkeep = {
						#trigger = {
						#	owner = {
						#		has_monthly_income = {
						#			resource = society_research
						#			value >= @tec_situation_cost_low
						#		}
						#	}
						#}
						society_research = @tec_situation_cost_low
					}
				}
			}
		# /

		monthly_progress = {
			base = 0
			# Debug
				modifier = {
					add = 10
					desc = EXCELLENT
					OR = {
						has_situation_flag = situation_tec_debug
						owner = {
							has_country_flag = situation_tec_debug
						}
					}
				}
				modifier = {
					add = 5
					desc = EXCELLENT
					OR = {
						has_situation_flag = situation_tec_debug_2
						owner = {
							has_country_flag = situation_tec_debug_2
						}
					}
				}
				modifier = {
					add = -10
					desc = EXCELLENT
					OR = {
						has_situation_flag = situation_tec_debug_negative
						owner = {
							has_country_flag = situation_tec_debug_negative
						}
					}
				}
				modifier = {
					add = -5
					desc = EXCELLENT
					OR = {
						has_situation_flag = situation_tec_debug_negative_2
						owner = {
							has_country_flag = situation_tec_debug_negative_2
						}
					}
				}
			# /
			# Approaches
			modifier = {
				add = -2
				desc = situation_tec_ascension_REFREF_approach_basic
				current_situation_approach = situation_tec_ascension_REFREF_approach_basic
			}
			modifier = {
				add = 2
				desc = situation_tec_ascension_REFREF_approach_fast
				current_situation_approach = situation_tec_ascension_REFREF_approach_fast
			}
		}

		abort_trigger = {
			NOT = {
				exists = owner
			}
		}
	}